---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import ServiceCard from '../components/ServiceCard.astro';
import FaqItem from '../components/FaqItem.astro';
import PillarCard from '../components/PillarCard.astro';
import ContactForm from '../components/ContactForm.astro';

const services = [
  {
    title: 'Création de campagnes de vote',
    description: 'Nous vous aidons à créer des campagnes électorales efficaces. Notre équipe personnalise le site de votation selon vos exigences, préparant des pages informatives, des recommandations de vote et des présentations des candidats.',
    image: '/images/campagne_1x.png',
  },
  {
    title: 'Paramétrage des scrutins',
    description: 'Scrutins uniques ou multiples, avec des types de votes adaptés à vos besoins : élection ou vote de proposition. Chaque scrutin peut être configuré avec des paramètres spécifiques, comme le vote blanc, ou segmenté par région ou poste.',
    image: '/images/illustrationscrutins_1x.png',
  },
  {
    title: 'Présentation des candidat·e·s',
    description: 'Chaque candidat dispose d\'une page personnalisée pour se présenter et partager sa plateforme. Photos, vidéos et liens vers les réseaux sociaux pour une présentation transparente et accessible.',
    image: '/images/illustrationcandidats_1x.png',
  },
  {
    title: 'Génération des codes d\'accès',
    description: 'Authentification sécurisée avec des méthodes variées. Connexion en un clic via un jeton sécurisé ou par code et mot de passe, notre système garantit une expérience de vote sûre et adaptable.',
    image: '/images/illustrationacces2_1x.png',
  },
  {
    title: 'Communication avec les votant·e·s',
    description: 'Envoi des instructions de vote et des codes d\'accès par email ou par courrier postal. Rappels automatisés avant et pendant le vote pour maximiser la participation.',
    image: '/images/illustrationcourrier_1x.png',
  },
  {
    title: 'Ouverture du vote',
    description: 'Le site de votation peut être mis en ligne avant le début du vote pour présenter les candidats. Le vote est contrôlé pendant la période d\'ouverture des scrutins, avec options de modification des choix.',
    image: '/images/illustrationvote_1x.png',
  },
  {
    title: 'Annonce des résultats',
    description: 'Les résultats sont communiqués à l\'administrateur dès la clôture. Les données anonymes sont disponibles pour téléchargement, et le site reste actif une semaine après pour consultation.',
    image: '/images/ilustrationresultats_1x.png',
  },
  {
    title: 'Audit du vote',
    description: 'Protocole d\'audit garantissant que chaque vote est correctement enregistré. Un numéro de reçu est généré pour chaque vote, permettant aux votants de vérifier leurs choix.',
    image: '/images/illustrationrecus_1x.png',
  },
];

const faqs = [
  {
    question: 'Qu\'est-ce que Votez.com?',
    answer: 'Votez.com est une plateforme de vote électronique pour syndicats destinée à simplifier et sécuriser le processus électoral. Elle offre des outils pour organiser des scrutins, gérer des campagnes, et assurer une communication efficace avec les votants, le tout dans un environnement sécurisé et adapté à différents types de vote.',
  },
  {
    question: 'Comment garantissez-vous la sécurité des votes?',
    answer: 'La sécurité est notre priorité. Nous utilisons des techniques de chiffrement avancées pour protéger les données des votants. Chaque vote est anonyme et inviolable. Notre plateforme est également équipée de protocoles d\'authentification sécurisés pour garantir que seuls les votants autorisés peuvent participer.',
  },
  {
    question: 'Comment les candidats peuvent-ils se présenter sur la plateforme?',
    answer: 'Chaque candidat a une page dédiée pour se présenter et partager son programme. Ils peuvent ajouter des photos, des vidéos, et des liens vers leurs réseaux sociaux ou sites web pour une présentation complète. Cette fonctionnalité offre aux votants une vision claire de chaque candidat avant de voter.',
  },
  {
    question: 'Comment communiquez-vous avec les votants?',
    answer: 'Nous nous occupons de la communication avec les votants, de l\'envoi des instructions de vote aux rappels pendant la période de vote. Nous pouvons également gérer l\'expédition des codes d\'accès par courrier postal si nécessaire. Notre objectif est de garantir que chaque votant comprend le processus et participe au scrutin.',
  },
  {
    question: 'Quelles sont les options pour l\'authentification des votants?',
    answer: 'Nous proposons deux méthodes d\'authentification. La première est une connexion en un clic via un lien sécurisé envoyé par email. La deuxième est une connexion classique avec un code et un mot de passe. Notre équipe peut vous aider à choisir la méthode qui convient le mieux à votre campagne.',
  },
  {
    question: 'Que se passe-t-il après la clôture du vote?',
    answer: 'À la fin du scrutin, les résultats sont immédiatement communiqués à la personne responsable de la campagne dans votre organisation. Un document contenant les données du vote vous est acheminé dans les minutes qui suivent la fermeture de la période de vote. Ce document est signé par la personne ressource chez Neosapiens qui aura administré le vote.',
  },
  {
    question: 'Offrez-vous un support tout au long du processus électoral?',
    answer: 'Oui, notre équipe vous accompagne du début à la fin. Nous aidons à créer des campagnes, à configurer les scrutins, et à gérer la communication avec les votants. Une équipe de vigie et de soutien technique est disponible pendant toute la période ouverte de vote.',
  },
];

const iconService = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>`;
const iconIntegrite = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>`;
const iconUx = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>`;
---

<BaseLayout title="Votez.com | Plateforme de vote électronique sécurisée">
  <Hero />

  <!-- À propos -->
  <section class="section">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-label">À propos</span>
        <h2 class="section-title">Au service de la mission syndicale depuis 2002</h2>
        <p class="section-subtitle">
          Neosapiens développe des systèmes d'information essentiels pour les organisations syndicales. Votez.com est une plateforme conçue pour offrir une solution complète et sécurisée aux organisations souhaitant moderniser leurs processus électoraux.
        </p>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Services -->
  <section class="section" id="services">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-label">Nos services</span>
        <h2 class="section-title">Un accompagnement complet, du début à la fin</h2>
        <p class="section-subtitle">
          Le site de votation, les codes d'accès, la communication avec les votant·e·s, les rappels et les résultats : notre équipe gère chaque étape.
        </p>
      </div>
      <div class="services-grid">
        {services.map((service, i) => (
          <ServiceCard
            title={service.title}
            description={service.description}
            image={service.image}
            index={i + 1}
          />
        ))}
      </div>
    </div>
  </section>

  <!-- Mission -->
  <section class="section section-alt" id="mission">
    <div class="section-inner mission-layout">
      <div class="mission-content">
        <span class="section-label">Notre engagement</span>
        <h2 class="mission-title">Mettre la démocratie au service de votre organisation</h2>
        <p class="mission-text">
          Votez.com assure un traitement rigoureux de chaque vote, dans le respect absolu de la confidentialité. Nos protocoles de sécurité garantissent l'intégrité de vos élections à chaque étape.
        </p>
        <p class="mission-text">
          Au-delà de notre plateforme technologique, nous offrons un accompagnement sur mesure tout au long de votre processus électoral.
        </p>
        <a href="#contact" class="btn btn-light">En savoir plus</a>
      </div>
      <div class="mission-image">
        <img src="/images/engagement-photo.jpg" alt="Notre engagement" loading="lazy" />
      </div>
    </div>
  </section>

  <!-- Piliers -->
  <section class="section">
    <div class="section-inner">
      <div class="section-header">
        <span class="section-label">Pourquoi Votez.com</span>
        <h2 class="section-title">Sécurité, service, simplicité</h2>
      </div>
      <div class="pillars-grid">
        <PillarCard
          title="Service complet et personnalisé"
          description="De l'initialisation de votre plateforme de vote à la présentation des résultats, chaque phase est gérée avec la plus grande attention par notre équipe."
          icon={iconService}
        />
        <PillarCard
          title="Intégrité et sécurité"
          description="Protocoles d'authentification avancés et confidentialité rigoureuse. Infrastructure hébergée exclusivement au Québec pour une conformité optimale."
          icon={iconIntegrite}
        />
        <PillarCard
          title="Expérience moderne et simple"
          description="Disponible sur tout type d'appareil. L'expérience de vote est simple et épurée, les votants n'auront aucune difficulté à enregistrer leur vote."
          icon={iconUx}
        />
      </div>
    </div>
  </section>

  <!-- Québec parallax -->
  <section class="quebec-section" style="background-image: url('/images/quebec.jpg');">
    <div class="quebec-overlay"></div>
    <div class="quebec-inner">
      <h2 class="quebec-title">Votez.com est fièrement<br />réalisé à <span class="quebec-accent">Québec</span></h2>
      <div class="quebec-line"></div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta-section">
    <div class="cta-inner">
      <h2 class="cta-title">Vous planifiez une campagne de vote?</h2>
      <p class="cta-text">Découvrez comment Votez.com peut simplifier et sécuriser vos élections.</p>
      <a href="#contact" class="btn btn-primary btn-lg">Demander une démonstration</a>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section section-alt" id="faq">
    <div class="section-inner">
      <div class="faq-layout">
        <div class="faq-header">
          <span class="section-label">FAQ</span>
          <h2 class="section-title">Questions fréquentes</h2>
          <p class="faq-header-text">Tout ce que vous devez savoir sur Votez.com et le vote électronique.</p>
        </div>
        <div class="faq-list">
          {faqs.map((faq) => (
            <FaqItem question={faq.question} answer={faq.answer} />
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section class="section" id="contact">
    <div class="section-inner">
      <div class="contact-layout">
        <div class="contact-info">
          <span class="section-label">Contact</span>
          <h2 class="section-title contact-title">Organiser votre campagne de vote</h2>
          <p class="contact-text">
            Remplissez le formulaire et notre équipe vous contactera pour discuter de vos besoins.
          </p>
          <div class="contact-details">
            <div class="contact-detail">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="contact-icon"><path d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/></svg>
              <span>1-866-968-0961</span>
            </div>
            <div class="contact-detail">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="contact-icon"><path d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"/></svg>
              <a href="mailto:info@votez.com">info@votez.com</a>
            </div>
            <div class="contact-detail">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="contact-icon"><path d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"/><path d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"/></svg>
              <span>1305 rue du Blizzard #105,<br />Québec (Québec) G2K 0A1</span>
            </div>
          </div>
        </div>
        <div class="contact-form-wrapper">
          <ContactForm />
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  /* Services grid */
  .services-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
  }

  /* Mission */
  .mission-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 5rem;
    align-items: center;
  }

  .mission-title {
    font-size: 2.25rem;
    color: var(--color-primary);
    margin-bottom: 1.5rem;
    line-height: 1.15;
    letter-spacing: -0.02em;
  }

  .mission-text {
    color: var(--color-text-light);
    line-height: 1.7;
    font-size: 1.0625rem;
    margin-bottom: 1rem;
  }

  .mission-content .btn {
    margin-top: 1rem;
  }

  .mission-image {
    border-radius: 40% 60% 60% 40% / 60% 40% 70% 30%;
    overflow: hidden;
  }

  .mission-image img {
    filter: saturate(0.9) brightness(1.02) hue-rotate(10deg);
  }

  /* Piliers */
  .pillars-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  /* Québec parallax */
  .quebec-section {
    position: relative;
    height: 70vh;
    min-height: 400px;
    background-attachment: fixed;
    background-position: center;
    background-size: cover;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .quebec-overlay {
    position: absolute;
    inset: 0;
    background: rgba(20, 30, 40, 0.45);
    z-index: 1;
  }

  .quebec-inner {
    position: relative;
    z-index: 2;
    text-align: center;
  }

  .quebec-title {
    font-size: 2.75rem;
    color: #fff;
    line-height: 1.2;
    letter-spacing: -0.02em;
    text-shadow: none;
  }

  .quebec-accent {
    color: #003DA5;
  }

  .quebec-line {
    width: 5rem;
    height: 2px;
    background: rgba(255, 255, 255, 0.5);
    margin: 1.5rem auto 0;
  }

  /* CTA */
  .cta-section {
    background: linear-gradient(170deg, var(--color-dark) 0%, var(--color-dark-lighter) 60%, #2D3D4F 100%);
    color: #fff;
    padding: 6rem 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .cta-section::before {
    content: "";
    position: absolute;
    top: -20%;
    left: -10%;
    width: 40vw;
    height: 40vw;
    background: rgba(95, 159, 224, 0.06);
    border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    animation: ctaBlob 15s ease-in-out infinite;
  }

  @keyframes ctaBlob {
    0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
    50% { border-radius: 30% 70% 60% 40% / 40% 60% 30% 70%; }
  }

  .cta-inner {
    max-width: 32rem;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .cta-title {
    font-size: 2.25rem;
    color: #fff;
    margin-bottom: 0.75rem;
    line-height: 1.15;
    letter-spacing: -0.02em;
  }

  .cta-text {
    font-size: 1.0625rem;
    color: rgba(255, 255, 255, 0.5);
    margin-bottom: 2.5rem;
    line-height: 1.65;
  }

  .cta-inner .btn-lg {
    padding: 1.0625rem 2.75rem;
    font-size: 1rem;
  }

  /* FAQ */
  .faq-layout {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 5rem;
    align-items: start;
  }

  .faq-header {
    position: sticky;
    top: 6rem;
  }

  .faq-header .section-title {
    text-align: left;
  }

  .faq-header-text {
    font-size: 1rem;
    color: var(--color-text-light);
    line-height: 1.65;
    margin-top: 0.75rem;
  }

  .faq-list {
    border-top: 1px solid var(--color-border);
  }

  /* Contact */
  .contact-layout {
    display: grid;
    grid-template-columns: 1fr 1.4fr;
    gap: 5rem;
    align-items: start;
  }

  .contact-title {
    text-align: left;
  }

  .contact-text {
    font-size: 1rem;
    color: var(--color-text-light);
    line-height: 1.65;
    margin-top: 0.75rem;
  }

  .contact-details {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 2.5rem;
  }

  .contact-detail {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.9375rem;
    color: var(--color-text-light);
  }

  .contact-detail a {
    color: var(--color-text-light);
  }

  .contact-detail a:hover {
    color: var(--color-accent);
  }

  .contact-icon {
    width: 1.25rem;
    height: 1.25rem;
    flex-shrink: 0;
    color: var(--color-accent);
  }

  .contact-form-wrapper {
    background-color: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    padding: 2.5rem;
  }

  @media (max-width: 768px) {
    .services-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .mission-layout {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }

    .pillars-grid {
      grid-template-columns: 1fr;
    }

    .quebec-section {
      height: 50vh;
      min-height: 300px;
      background-attachment: scroll;
    }

    .quebec-title {
      font-size: 1.75rem;
    }

    .cta-section {
      padding: 4rem 1.25rem;
    }

    .cta-title {
      font-size: 1.75rem;
    }

    .faq-layout {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .faq-header {
      position: static;
    }

    .contact-layout {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }

    .contact-form-wrapper {
      padding: 1.5rem;
    }
  }
</style>
